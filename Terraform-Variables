==> mkdir terraform-variables
==> cd terraform-variables
==> pwd

==> nano main.tf

resource "local_file" "devops" {
        filename = "/home/ubuntu/terraform-variables/devops_test.txt"
        content = "This is a devops test file"
}

==> terraform init
==> terraform apply

==> nano variable.tf

variable "filename" {
       default = "/home/ubuntu/terraform-variables/devops-automated.txt"
}

variable "content" {
       default = "This is autogenerated from a variable"
}

==> nano main.tf                                       # edit the above file 

resource "local_file" "devops-var" {
        filename = var.filename
        content = var.content
}

==> terraform plan
==> terraform apply
       yes
==> cat devops-automated.txt


==> nano variable.tf

variable "devops_op_trainer" {}


==> export TF_VAR_devops_op_trainer=TrainWithAdnan

==> nano main.tf

output "devops_op_trainer" {
value = "var.devops_op_trainer"
}

==> terraform apply
        yes

==> export TF_VAR_devops_op_trainer=TrainWithKKR

==> terraform apply
        yes

==> nano variable.tf

variable "content_map" {
type = map
default = {
"content1" = "This is a cool content1"
"content2" = "This is a coolest content2"
}
}

==> nano main.tf                    # edit the above file
 
resource "local_file" "devops" {
        filename = "/home/ubuntu/terraform-variables/devops_test.txt"
        content = var.content_map ["content1"]
}

resource "local_file" "devops-var" {
        filename = var.filename
        content = var.content_map ["content2"]
}

==> terraform plan
==> terraform apply
      yes

==> nano variable.tf

variable "file_list" {
type = list
default = ["/home/ubuntu/terraform-variables/file1.txt","/home/ubuntu/terraform-variables/file2.txt"]
}


==> nano main.tf

resource "local_file" "devops" {
        filename = var.file_list[0]
        content = var.content_map ["content1"]
}

resource "local_file" "devops-var" {
        filename = var.file_list[1]
        content = var.content_map ["content2"]
}

==> terraform plan
==> terraform apply
      yes
